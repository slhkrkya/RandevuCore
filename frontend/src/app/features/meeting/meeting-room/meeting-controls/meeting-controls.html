<!-- Meeting Controls Bar -->
<div class="absolute bottom-0 left-0 right-0 bg-gray-800/90 backdrop-blur-sm border-t border-gray-700 p-4 z-30">
  <div class="flex items-center justify-between max-w-6xl mx-auto">
    
    <!-- Left Controls - Media Controls -->
    <div class="flex items-center space-x-3">
      
      <!-- Mute/Unmute Button -->
      <button class="p-3 rounded-full text-white transition-all duration-200 hover:scale-105"
              [class]="getMuteButtonClass()"
              (click)="onToggleMute()"
              [title]="meetingState.isMuted ? 'Unmute' : 'Mute'">
        <span class="material-symbols-outlined text-xl">
          {{ meetingState.isMuted ? 'mic_off' : 'mic' }}
        </span>
      </button>
      
      <!-- Video On/Off Button -->
      <button class="p-3 rounded-full text-white transition-all duration-200 hover:scale-105"
              [class]="getVideoButtonClass()"
              (click)="onToggleVideo()"
              [title]="meetingState.isVideoOn ? 'Turn Off Camera' : 'Turn On Camera'">
        <span class="material-symbols-outlined text-xl">
          {{ meetingState.isVideoOn ? 'videocam' : 'videocam_off' }}
        </span>
      </button>
      
      <!-- Screen Share Button -->
      <button class="p-3 rounded-full text-white transition-all duration-200 hover:scale-105"
              [class]="getScreenShareButtonClass()"
              (click)="onToggleScreenShare()"
              [title]="meetingState.isScreenSharing ? 'Stop Sharing' : 'Share Screen'">
        <span class="material-symbols-outlined text-xl">
          {{ meetingState.isScreenSharing ? 'stop_screen_share' : 'present_to_all' }}
        </span>
      </button>
      
    </div>
    
    <!-- Center Controls - View Controls -->
    <div class="flex items-center space-x-2">
      
      <!-- Grid View Button -->
      <button class="px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
              [class]="getViewButtonClass('grid')"
              (click)="onSetActiveView('grid')"
              title="Grid View">
        <span class="material-symbols-outlined text-lg mr-2">grid_view</span>
        Grid
      </button>
      
      <!-- Speaker View Button -->
      <button class="px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
              [class]="getViewButtonClass('speaker')"
              (click)="onSetActiveView('speaker')"
              title="Speaker View">
        <span class="material-symbols-outlined text-lg mr-2">person</span>
        Speaker
      </button>
      
      <!-- Whiteboard Button -->
      <button class="px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200"
              [class]="getViewButtonClass('whiteboard')"
              (click)="onSetActiveView('whiteboard')"
              title="Whiteboard">
        <span class="material-symbols-outlined text-lg mr-2">draw</span>
        Whiteboard
      </button>
      
    </div>
    
    <!-- Right Controls - Panel Controls & Actions -->
    <div class="flex items-center space-x-3">
      
      <!-- Participants Button -->
      <button class="p-3 rounded-full text-white transition-all duration-200 hover:scale-105"
              [class.bg-blue-500]="showParticipantsPanel"
              [class.bg-gray-600]="!showParticipantsPanel"
              [class.hover:bg-blue-600]="showParticipantsPanel"
              [class.hover:bg-gray-700]="!showParticipantsPanel"
              (click)="onToggleParticipantsPanel()"
              title="Participants">
        <span class="material-symbols-outlined text-xl">people</span>
        <span *ngIf="participantsCount > 0" 
              class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
          {{ participantsCount }}
        </span>
      </button>
      
      <!-- Chat Button -->
      <button class="p-3 rounded-full text-white transition-all duration-200 hover:scale-105"
              [class.bg-blue-500]="showChatPanel"
              [class.bg-gray-600]="!showChatPanel"
              [class.hover:bg-blue-600]="showChatPanel"
              [class.hover:bg-gray-700]="!showChatPanel"
              (click)="onToggleChatPanel()"
              title="Chat">
        <span class="material-symbols-outlined text-xl">chat</span>
      </button>
      
      <!-- Fullscreen Button -->
      <button class="p-3 rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-all duration-200 hover:scale-105"
              (click)="onToggleFullscreen()"
              title="Fullscreen">
        <span class="material-symbols-outlined text-xl">fullscreen</span>
      </button>
      
      <!-- End Meeting Button -->
      <button class="px-6 py-3 rounded-full text-white bg-red-500 hover:bg-red-600 transition-all duration-200 hover:scale-105 font-semibold"
              (click)="onEndMeeting()"
              title="End Meeting">
        <span class="material-symbols-outlined text-lg mr-2">call_end</span>
        End Meeting
      </button>
      
    </div>
    
  </div>
  
  <!-- Meeting Info Bar -->
  <div class="mt-3 pt-3 border-t border-gray-700">
    <div class="flex items-center justify-center space-x-6 text-sm text-gray-300">
      
      <!-- Participants Count -->
      <div class="flex items-center space-x-2">
        <span class="material-symbols-outlined text-sm">people</span>
        <span>{{ participantsCount }} participant{{ participantsCount !== 1 ? 's' : '' }}</span>
      </div>
      
      <!-- Meeting Duration -->
      <div class="flex items-center space-x-2">
        <span class="material-symbols-outlined text-sm">schedule</span>
        <span>00:00:00</span>
      </div>
      
      <!-- Connection Status -->
      <div class="flex items-center space-x-2">
        <div class="w-2 h-2 rounded-full bg-green-500"></div>
        <span>Connected</span>
      </div>
      
      <!-- Host Indicator -->
      <div *ngIf="isHost" class="flex items-center space-x-2 text-yellow-400">
        <span class="material-symbols-outlined text-sm">star</span>
        <span>Host</span>
      </div>
      
    </div>
  </div>
  
</div>
